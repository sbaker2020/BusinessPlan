<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v3.8.5">
    <title>Bon Mechánt - Beer Menu</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="/BusinessPlan/css/globalStyleSheet.css">
	<link rel="icon" href="/BusinessPlan/images/favicon.ico" type="image/x-icon">
  </head>
  <body>
    <header>
      <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="container d-flex justify-content-between">
          <a href="../../" class="navbar-brand d-flex align-items-center">
          <strong>Bon Mechánt</strong>
          </a>
        </div>
      </div>
    </header>
    <main role="main">
      <section class="jumbotron text-center">
        <div class="container">
          <h1 class="jumbotron-heading">Beer Menu</h1>
        </div>
      </section>
      <div class="album py-5 bg-light">
        <div class="container">
          <ul id="beerList" class="list-group">
            
          </ul>
        </div>
      </div>
    </main>
    <footer class="text-muted">
      <div class="container">
        <p>&copy; Bon Mechánt 
		  <script>
            document.write(new Date().getFullYear());
          </script>
		</p>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.3/jquery.csv.min.js"></script>
	<script>
		$( document ).ready(function() {
		    htmlTemplate = '';
			$.ajax({
				url: 'beerItemTemplate.txt',
				type: "get",
				async: false,
				success: function(data) {
					htmlTemplate = data.replace('\n', '');
				},
				error: function() {
					console.log('Could not load event data');
				}
			});
			
			beerList = null;
			$.ajax({
				url: "beer.csv",
				async: false,
				success: function (csvData) {
					beerList = $.csv.toObjects(csvData);
				},
				dataType: "text"
			});
			
			beerListHtml = '';
			for(var i = 0; i < beerList.length; i++) {
				drink = beerList[i];
			
				generatedHtml = '';
				generatedHtml += htmlTemplate;
				generatedHtml = generatedHtml.replace('{beerName}', drink.beerName);
				generatedHtml = generatedHtml.replace('{description}', drink.description);
				beerListHtml += generatedHtml;
			}
			
			document.getElementById('beerList').innerHTML = beerListHtml;
		});
	</script>
  </body>
</html>